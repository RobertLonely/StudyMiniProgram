{"version":3,"sources":["webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue?270e","webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue?6ff3","webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue?7cde","webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue?2db9","webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue","webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue?f391","webpack:///C:/Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue?643a"],"names":["props","tab","type","Array","default","components","gestureItem","data","currentIndex","cardList","pageSize","page","flag","watch","newVal","length","getCardList","methods","userTouch","e","current","detail","$parent","$children","getActiveIndex","cut","index","name","$api","getCardListC","then","res","result","upData","push","$set","catch","err","console","log","mounted","$EventBus","$on","created"],"mappings":"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","file":"components/gesture/gesture.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./gesture.vue?vue&type=template&id=17aac01b&\"\nvar renderjs\nimport script from \"./gesture.vue?vue&type=script&lang=js&\"\nexport * from \"./gesture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./gesture.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/26291/Desktop/MiniProgram/uniapp/news/components/gesture/gesture.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gesture.vue?vue&type=template&id=17aac01b&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gesture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gesture.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n\nimport gestureItem from './gesture-item.vue'\nexport default {\n\tprops: {\n\t\ttab: {\n\t\t\ttype: Array,\n\t\t\tdefault: function() {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t}\n\t},\n\tcomponents: {\n\t\tgestureItem\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentIndex: 0,\n\t\t\tcardList: [],\n\t\t\t// 页面显示的数据数量\n\t\t\tpageSize: 5,\n\t\t\t// 页数\n\t\t\tpage: 1,\n\t\t\t// 是否处于加载状态\n\t\t\tflag: []\n\t\t};\n\t},\n\twatch: {\n\t\ttab(newVal) {\n\t\t\tif (newVal.length === 0) return\n\t\t\t// 在标签栏变化时，清空cardList的缓存\n\t\t\tthis.cardList = []\n\t\t\tthis.getCardList(this.currentIndex)\n\t\t}\n\t},\n\tmethods: {\n\t\t// 手势切换卡片视图区域时，将当前选中的标签索引传递给tab组件\n\t\tuserTouch(e) {\n\t\t\tlet current = e.detail.current\n\t\t\tthis.$parent.$children[1].getActiveIndex(current)\n\t\t\t// 切换卡片视图时，重置page属性\n\t\t\tthis.page = 1\n\t\t\t// 切换卡片视图时，如果flag为false时，表明已经访问过并全部加载完\n\t\t\tif (this.flag[current] != null) return\n\t\t\t// 切换标签时，发起查询\n\t\t\tif (!this.cardList[current] || this.cardList[current].length === 0) {\n\t\t\t\tthis.getCardList(e.detail.current)\n\t\t\t}\n\t\t},\n\t\t// 切换标签时，切换卡片视图区域\n\t\tcut(index) {\n\t\t\tthis.currentIndex = index\n\t\t},\n\t\t// 获取卡片列表\n\t\tgetCardList(index) {\n\t\t\tconst name = this.tab[index].name\n\t\t\tthis.$api.getCardListC({\n\t\t\t\t// userId: '5ecdd2d9550399004d70b8bb',\n\t\t\t\tname,\n\t\t\t\tpageSize: this.pageSize,\n\t\t\t\tpage: this.page\n\t\t\t}).then(res => {\n\t\t\t\tlet data = res.result.result\n\t\t\t\t// console.log(data)\n\t\t\t\t// 所有数据加载完成，关闭加载状态\n\t\t\t\tif (data.length < 5 || !data) {\n\t\t\t\t\tthis.flag[index] = false\n\t\t\t\t}\n\t\t\t\t// 如果存在之前旧数据就缓存下来，没有就为空数组\n\t\t\t\tlet upData = this.cardList[index] || []\n\t\t\t\t// 将新增数据添加到旧数组里面\n\t\t\t\tupData.push(...data)\n\t\t\t\t// 用最新数据替换旧数据\n\t\t\t\tthis.$set(this.cardList, index, upData)\n\t\t\t\t// console.log(this.cardList)\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t}\n\n\t},\n\tmounted() {\n\t\tthis.$EventBus.$on('loadCard', () => {\n\t\t\t// flag为false时，表明已经访问过并全部加载完\n\t\t\tif (this.flag[this.currentIndex] != null) return\n\t\t\tthis.page++\n\t\t\tthis.getCardList(this.currentIndex)\n\t\t})\n\t},\n\tcreated() {\n\t\t// uni.$on('updataLike', (types) => {\n\t\t// \tconsole.log(types)\n\t\t// \tif (types === '') return\n\t\t// \tthis.cardList = []\n\t\t// \tthis.getCardList(this.currentIndex)\n\t\t// })\n\t\t// console.log(2)\n\t}\n}\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gesture.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./gesture.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591496710791\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}